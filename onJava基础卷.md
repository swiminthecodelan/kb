# 笔记

## 控制流

- Java 不允许将数字当作布尔值使用。
- 放置标签
    - 与 break、continue 一起使用，中断循环之后跳转到标签位置

        ```java
        label1:
        // 中间不允许有其他代码，标签后紧跟循环语句
        outer-iteration {
            inner-iteration{
                //...
                break;
                //...
                continue;
                //...
                break label1;
                //...
                continue label1;
            }
        }
        ```

    - 使用标签的唯一理由就是需要用到嵌套循环，并且需要跳出多层的嵌套。

## 初始化和清理

- 引用计数是一种简单而缓慢的垃圾收集技术，对象被引用计数增加，没有引用则被释放，但是找不到自引用对象组（只有两个对象互相引用）。
- 垃圾收集：从静态存储或栈追溯所有引用，解决了自引用问题。释放没有被追溯到的对象。
    - stop-and-copy：程序停止，将所有存活对象从一个堆复制到另一个堆，方便处理大量短期临时对象。（耗内存）
    - mark-and-sweep：程序稳定时，垃圾变得很少，这种方式很快。不会发生复制。

- JVM 提升速度：
    - 即时编译器（just-in-time，JIT），将程序部分或全部编译为本地机器码，不需要 JVM 的解释，运行更快。
    - 加载类 -> .class -> 内存 -> 编译。如果编译所有代码，需要更多的时间，并且增加可执行文件大小。使用惰性评估（lazy evaluation)解决，除非必要，否则不会对代码进行即时编译。这种方式下，随着代码执行的越来越多，可以复用的机器码也随之增多，程序运行越来越快。

## 复用

- 默认会自动创建一个无参的构造器，但程序员定义后，无参便没有了。
- 对类的复用：继承，通常情况下基类字段设置为 private，方法设置为 public。
- 正确初始化子类中基类子对象很重要：在子类构造器中调用基类构造器。
- 对基类构造器的调用必须是在子类构造器中的第一行。
- 子类构造器自动调用无参基类构造器，但是基类如果只有有参构造器，则子类构造器中必须显示调用并传参。
